@import "tailwindcss";

:root {
  /* Premium Color Palette - Mountain Expedition Theme */
  --forest-green: #1E5532; /* Soft green */
  --deep-navy: #0F172A; /* Deep navy */
  --sky-blue: #4A90E2; /* Sky blue */
  --trail-tan: #F7E7D3; /* Beige */
  --snow-white: #F2F9FF; /* Snow white */
  --mountain-slate: #3A3F47; /* Mountain slate */
  
  /* Brand Colors */
  --brand-primary: #1E5532; /* Forest green */
  --brand-secondary: #4A90E2; /* Sky blue */
  --brand-accent: #3A3F47; /* Mountain slate */
  
  /* Surface Colors - Light Theme */
  --surface: rgba(249, 250, 251, 0.95); /* Slightly off-white */
  --surface-strong: rgba(247, 248, 250, 0.98); /* Strong off-white */
  --surface-elevated: rgba(251, 252, 253, 0.95); /* Elevated off-white */
  --border: rgba(0, 0, 0, 0.12); /* More visible dark border */
  --glow: rgba(74, 144, 226, 0.15); /* Sky blue glow */
  
  /* Premium Shadows - Light Theme */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 24px 64px rgba(0, 0, 0, 0.12);
  --shadow-2xl: 0 32px 80px rgba(0, 0, 0, 0.15);
  --shadow-premium: 0 20px 60px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.05);
  --shadow-deep: 0 40px 100px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(0, 0, 0, 0.05);
  
  /* Gradients */
  --gradient-primary: linear-gradient(135deg, var(--forest-green), var(--sky-blue));
  --gradient-hero: linear-gradient(180deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 85, 50, 0.1) 50%, rgba(15, 23, 42, 0.95) 100%);
  --gradient-mountain: linear-gradient(180deg, rgba(74, 144, 226, 0.1) 0%, rgba(30, 85, 50, 0.15) 100%);
  --gradient-overlay: linear-gradient(180deg, transparent 0%, rgba(15, 23, 42, 0.8) 100%);
  
  /* Typography Scale */
  --text-xs: 0.75rem; /* 12px */
  --text-sm: 0.875rem; /* 14px */
  --text-base: 1rem; /* 16px */
  --text-lg: 1.125rem; /* 18px */
  --text-xl: 1.25rem; /* 20px */
  --text-2xl: 1.5rem; /* 24px */
  --text-3xl: 1.875rem; /* 30px */
  --text-4xl: 2.25rem; /* 36px */
  --text-5xl: 3rem; /* 48px */
  --text-6xl: 3.75rem; /* 60px */
  --text-7xl: 4.5rem; /* 72px */
  --text-8xl: 6rem; /* 96px */
  --text-hero: clamp(2.5rem, 5vw + 1rem, 5rem); /* Responsive hero text */
  
  /* Spacing Scale */
  --spacing-xs: 0.5rem; /* 8px */
  --spacing-sm: 1rem; /* 16px */
  --spacing-md: 1.5rem; /* 24px */
  --spacing-lg: 2rem; /* 32px */
  --spacing-xl: 3rem; /* 48px */
  --spacing-2xl: 4rem; /* 64px */
  --spacing-3xl: 6rem; /* 96px */
  --spacing-4xl: 8rem; /* 128px */
  --spacing-section: clamp(5rem, 10vw, 12rem); /* Increased section spacing */
  
  /* Border Radius */
  --radius: 1rem;
  --radius-sm: 0.5rem;
  --radius-md: 1rem;
  --radius-lg: 1.5rem;
  --radius-xl: 2rem;
  --radius-2xl: 3rem;
  --radius-full: 9999px;
  
  /* Success/Error colors */
  --success: rgba(30, 85, 50, 0.3);
  --error: rgba(220, 38, 38, 0.2);
  
  /* Parallax */
  --parallax-speed-1: 0.3; /* Background layer */
  --parallax-speed-2: 0.5; /* Middle layer */
  --parallax-speed-3: 0.7; /* Foreground layer */
  
}

/* Dark Mode Variables */
html.dark,
.dark {
  /* Surface Colors - Dark Theme - Enhanced contrast */
  --surface: rgba(30, 41, 59, 0.95); /* Dark slate */
  --surface-strong: rgba(15, 23, 42, 0.98); /* Strong dark */
  --surface-elevated: rgba(51, 65, 85, 0.95); /* Elevated dark */
  --border: rgba(255, 255, 255, 0.12); /* Light border - increased contrast */
  --glow: rgba(96, 165, 250, 0.25); /* Sky blue glow - brighter for visibility */
  
  /* Premium Shadows - Dark Theme */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 24px 64px rgba(0, 0, 0, 0.6);
  --shadow-2xl: 0 32px 80px rgba(0, 0, 0, 0.7);
  --shadow-premium: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.08);
  --shadow-deep: 0 40px 100px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

html {
  scroll-behavior: smooth;
  overflow-x: hidden;
  max-width: 100vw;
}

* {
  box-sizing: border-box;
  max-width: 100%;
}

body {
  margin: 0;
  min-height: 100vh;
  position: relative;
  background: 
    radial-gradient(circle at 20% 20%, rgba(30, 85, 50, 0.03), transparent 45%),
    radial-gradient(circle at 80% 0%, rgba(74, 144, 226, 0.04), transparent 40%),
    linear-gradient(180deg, #f5f7fa 0%, #f9fafb 100%);
  color: #0f172a;
  font-family: var(--font-montserrat, "Inter"), -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-weight: 400;
  letter-spacing: -0.01em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.4s cubic-bezier(0.16, 1, 0.3, 1), color 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

html.dark body,
.dark body,
html[class~="dark"] body {
  background: 
    radial-gradient(circle at 20% 20%, rgba(30, 85, 50, 0.1), transparent 45%),
    radial-gradient(circle at 80% 0%, rgba(74, 144, 226, 0.08), transparent 40%),
    linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
  color: #f1f5f9;
}

/* Ensure base font size stays consistent between light and dark mode */
html {
  font-size: 16px;
}

html.dark,
.dark,
html[class~="dark"] {
  font-size: 16px !important; /* Force same font size as light mode */
}

/* Ensure images and logos maintain their exact size in dark mode - prevent any size changes */
html.dark img,
.dark img,
html[class~="dark"] img {
  /* Preserve Tailwind size classes - don't override height/width */
  min-height: 0;
  min-width: 0;
}

/* Force text colors in LIGHT mode - ensure dark text on light backgrounds */
html:not(.dark) [class*="text-slate-900"] {
  color: #0f172a !important;
}

html:not(.dark) [class*="text-slate-800"] {
  color: #1e293b !important;
}

html:not(.dark) [class*="text-slate-700"] {
  color: #334155 !important;
}

html:not(.dark) [class*="text-slate-600"] {
  color: #475569 !important;
}

/* Force light backgrounds in LIGHT mode - ensure light backgrounds */
html:not(.dark) button[class*="bg-white"],
html:not(.dark) button[class*="bg-slate-50"],
html:not(.dark) button[class*="bg-slate-100"] {
  background-color: #ffffff;
}

html:not(.dark) input[class*="bg-white"],
html:not(.dark) input[class*="bg-slate-50"],
html:not(.dark) input[class*="bg-slate-100"] {
  background-color: #ffffff;
}

/* Force white for any element with bg-white or bg-slate-50 in light mode */
html:not(.dark) [class*="bg-white"]:not([class*="dark:bg-"]) {
  background-color: #ffffff;
}

html:not(.dark) [class*="bg-slate-50"]:not([class*="dark:bg-"]) {
  background-color: #ffffff;
}

html:not(.dark) [class*="bg-slate-100"]:not([class*="dark:bg-"]) {
  background-color: #f1f5f9;
}

/* Force text colors in dark mode - removed !important to allow Tailwind overrides */
html.dark [class*="text-slate-900"],
.dark [class*="text-slate-900"] {
  color: #ffffff;
}

html.dark [class*="text-slate-800"],
.dark [class*="text-slate-800"] {
  color: #ffffff;
}

html.dark [class*="text-slate-700"],
.dark [class*="text-slate-700"] {
  color: #f8fafc;
}

html.dark [class*="text-slate-600"],
.dark [class*="text-slate-600"] {
  color: #f1f5f9;
}

/* Dark-mode fallback for AI output surfaces and config options */
.ai-output-card {
  background-color: #f8fafc;
}

html.dark .ai-output-card,
.dark .ai-output-card {
  background-color: rgba(15, 23, 42, 0.9) !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
}

html.dark .ai-config-option,
.dark .ai-config-option {
  background-color: rgba(15, 23, 42, 0.92) !important;
  color: #e2e8f0 !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
}

html.dark .ai-config-input,
.dark .ai-config-input {
  background-color: rgba(15, 23, 42, 0.92) !important;
  color: #e2e8f0 !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
}

html.dark .ai-config-input::placeholder,
.dark .ai-config-input::placeholder {
  color: #94a3b8 !important;
}

html.dark .ai-output-scope,
.dark .ai-output-scope {
  color: #e2e8f0;
}

html.dark .ai-output-scope .bg-white,
.dark .ai-output-scope .bg-white {
  background-color: rgba(15, 23, 42, 0.92) !important;
}

html.dark .ai-output-scope .bg-slate-50,
.dark .ai-output-scope .bg-slate-50 {
  background-color: rgba(15, 23, 42, 0.85) !important;
}

html.dark .ai-output-scope .bg-slate-100,
.dark .ai-output-scope .bg-slate-100 {
  background-color: rgba(30, 41, 59, 0.9) !important;
}

html.dark .ai-output-scope .bg-green-50,
.dark .ai-output-scope .bg-green-50 {
  background-color: rgba(6, 78, 59, 0.28) !important;
}

html.dark .ai-output-scope .bg-red-50,
.dark .ai-output-scope .bg-red-50 {
  background-color: rgba(127, 29, 29, 0.28) !important;
}

html.dark .ai-output-scope .bg-rose-50,
.dark .ai-output-scope .bg-rose-50 {
  background-color: rgba(136, 19, 55, 0.28) !important;
}

html.dark .ai-output-scope .bg-amber-50,
.dark .ai-output-scope .bg-amber-50 {
  background-color: rgba(120, 53, 15, 0.25) !important;
}

html.dark .ai-output-scope .bg-sky-50,
.dark .ai-output-scope .bg-sky-50 {
  background-color: rgba(30, 41, 59, 0.65) !important;
}

html.dark .checkpoint-results,
.dark .checkpoint-results {
  background-color: rgba(15, 23, 42, 0.95) !important;
  color: #e2e8f0;
}

html.dark .checkpoint-result-card,
.dark .checkpoint-result-card {
  background-color: rgba(30, 41, 59, 0.9) !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
}

html.dark .checkpoint-result-card.is-correct,
.dark .checkpoint-result-card.is-correct {
  background-color: rgba(6, 78, 59, 0.32) !important;
  border-color: rgba(16, 185, 129, 0.45) !important;
}

html.dark .checkpoint-result-card.is-wrong,
.dark .checkpoint-result-card.is-wrong {
  background-color: rgba(127, 29, 29, 0.32) !important;
  border-color: rgba(248, 113, 113, 0.45) !important;
}

.glass-panel {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow:
    0 20px 60px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(18px);
  transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
}

.glass-panel:hover {
  transform: translateY(-1px);
  box-shadow:
    0 24px 72px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
}

html.dark .glass-panel,
.dark .glass-panel {
  box-shadow:
    0 20px 60px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.12);
}

html.dark .glass-panel:hover,
.dark .glass-panel:hover {
  box-shadow:
    0 24px 72px rgba(0, 0, 0, 0.6),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

.glass-panel-strong {
  background: var(--surface-strong);
  border-radius: calc(var(--radius) * 1.1);
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow:
    0 25px 60px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(28px);
  transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

html.dark .glass-panel-strong,
.dark .glass-panel-strong {
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow:
    0 25px 60px rgba(0, 0, 0, 0.6),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

.brand-gradient {
  background: linear-gradient(135deg, var(--forest-green), var(--sky-blue)) !important;
  opacity: 1 !important;
}

html.dark .brand-gradient,
.dark .brand-gradient {
  background: linear-gradient(135deg, #34D399, #60A5FA) !important;
}

.text-gradient {
  background: linear-gradient(135deg, #4A90E2, #1E5532, #F7E7D3);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

html.dark .text-gradient,
.dark .text-gradient {
  background: linear-gradient(135deg, #60A5FA, #34D399, #FDE68A);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient-hero {
  background: linear-gradient(135deg, #1e293b 0%, #4A90E2 50%, #1E5532 100%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 700;
  letter-spacing: -0.02em;
}

html.dark .text-gradient-hero,
.dark .text-gradient-hero {
  background: linear-gradient(135deg, #f1f5f9 0%, #60A5FA 50%, #34D399 100%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Premium Typography Utilities */
.text-hero {
  font-size: var(--text-hero);
  line-height: 1.1;
  font-weight: 700;
  letter-spacing: -0.02em;
}

.text-display {
  font-size: clamp(2rem, 4vw + 1rem, 4rem);
  line-height: 1.2;
  font-weight: 600;
  letter-spacing: -0.01em;
}

/* Premium Shadow Utilities */
.shadow-premium {
  box-shadow: var(--shadow-premium);
}

.shadow-deep {
  box-shadow: var(--shadow-deep);
}

.shadow-glow {
  box-shadow: 0 0 40px rgba(74, 144, 226, 0.3);
}

.shadow-glow-green {
  box-shadow: 0 0 40px rgba(30, 85, 50, 0.3);
}

/* Premium Gradient Utilities */
.gradient-hero-bg {
  background: var(--gradient-hero);
}

.gradient-mountain-bg {
  background: var(--gradient-mountain);
}

.gradient-overlay {
  background: var(--gradient-overlay);
}

/* Parallax Utilities */
.parallax-container {
  will-change: transform;
  transform-style: preserve-3d;
}

.parallax-layer {
  will-change: transform;
  backface-visibility: hidden;
}

/* Mountain-themed font for hero */
.font-oswald {
  font-family: var(--font-oswald), sans-serif;
  letter-spacing: 0.05em;
  font-weight: 700;
}

/* Premium Card Styles */
.premium-card {
  background: var(--surface-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-premium);
  backdrop-filter: blur(20px);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Landing page cards - less rounded */
main .premium-card {
  border-radius: var(--radius);
}

.premium-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-deep);
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.3s ease;
}

/* Override hover for no-hover cards - must come after .premium-card:hover */
.premium-card.pricing-card-no-hover {
  transition: transform 0s !important;
}

.premium-card.pricing-card-no-hover:hover {
  transform: translateY(0) !important;
  translate: 0 0 !important;
  box-shadow: var(--shadow-premium) !important;
}

/* Disable hover bounce for pricing cards and showcase */
.pricing-card-no-hover {
  transition: none !important;
  pointer-events: auto !important;
}

.pricing-card-no-hover:hover,
.pricing-card-no-hover:focus,
.pricing-card-no-hover:active {
  transform: translateY(0) !important;
  translate: 0 0 !important;
  box-shadow: var(--shadow-premium) !important;
}

.premium-card.pricing-card-no-hover,
.premium-card.pricing-card-no-hover:hover,
.premium-card.pricing-card-no-hover:focus,
.premium-card.pricing-card-no-hover:active {
  transform: translateY(0) !important;
  translate: 0 0 !important;
  box-shadow: var(--shadow-premium) !important;
}

/* Pricing card button visibility in dark mode */
.pricing-card-no-hover button:not([class*="bg-sky"]):not([class*="bg-green"]) {
  background-color: rgb(100, 116, 139) !important; /* slate-500 */
  border-color: rgb(203, 213, 225) !important; /* slate-300 */
  color: rgb(255, 255, 255) !important;
}

html.dark .pricing-card-no-hover button:not([class*="bg-sky"]):not([class*="bg-green"]):hover,
.dark .pricing-card-no-hover button:not([class*="bg-sky"]):not([class*="bg-green"]):hover {
  background-color: rgb(148, 163, 184) !important; /* slate-400 */
}

/* FAQ button hover styles */
.faq-button:hover {
  background-color: rgb(248, 250, 252) !important; /* slate-50 - light background for light mode */
}

html.dark .faq-button:hover,
.dark .faq-button:hover {
  background-color: rgb(51, 65, 85) !important; /* slate-700 - dark background for dark mode */
}

html.dark .faq-button:hover span,
.dark .faq-button:hover span {
  color: rgb(255, 255, 255) !important; /* white text on hover in dark mode */
}

html.dark .faq-button:hover span:last-child,
.dark .faq-button:hover span:last-child {
  color: rgb(125, 211, 252) !important; /* sky-300 for plus/minus icon in dark mode */
}

/* Section Spacing - Consistent spacing scale */
.section-spacing {
  padding-top: var(--spacing-section);
  padding-bottom: var(--spacing-section);
}

.section-spacing-sm {
  padding-top: var(--spacing-2xl);
  padding-bottom: var(--spacing-2xl);
}

/* Responsive container utilities */
.container-responsive {
  width: 100%;
  max-width: 100%;
  padding-left: clamp(0.75rem, 2vw, 2.5rem);
  padding-right: clamp(0.75rem, 2vw, 2.5rem);
}

/* Prevent horizontal overflow */
.overflow-safe {
  overflow-x: hidden;
  overflow-y: auto;
}

.trail-gradient {
  background: linear-gradient(135deg, var(--trail-tan), var(--snow-white));
}

.btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;
  padding: 0.85rem 1.6rem;
  border-radius: 999px;
  font-weight: 600;
  font-size: 0.95rem;
  border: 1px solid transparent;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.btn-primary {
  background: rgb(14, 165, 233); /* sky-500 - solid blue, no gradient */
  color: #ffffff;
  box-shadow: 0 8px 24px rgba(14, 165, 233, 0.4);
}

html.dark .btn-primary,
.dark .btn-primary {
  background: rgb(14, 165, 233); /* sky-500 - solid blue, no gradient */
  box-shadow: 0 8px 24px rgba(14, 165, 233, 0.6);
}

.btn-primary:hover {
  background: rgb(2, 132, 199); /* sky-600 - darker blue on hover */
  transform: translateY(-1px);
  box-shadow: 0 10px 28px rgba(14, 165, 233, 0.45);
}

.btn-primary:active {
  transform: translateY(0);
  box-shadow: 0 6px 20px rgba(30, 85, 50, 0.4);
}

html.dark .btn-primary:hover,
.dark .btn-primary:hover {
  background: rgb(2, 132, 199); /* sky-600 - darker blue on hover */
  box-shadow: 0 10px 28px rgba(14, 165, 233, 0.65);
}

html.dark .btn-primary:active,
.dark .btn-primary:active {
  box-shadow: 0 6px 20px rgba(30, 85, 50, 0.6);
}

.btn-secondary {
  background: transparent;
  border-color: rgba(30, 41, 59, 0.2);
  color: #1e293b;
}

html.dark .btn-secondary,
.dark .btn-secondary {
  border-color: rgba(255, 255, 255, 0.25);
  color: #f1f5f9;
}

.btn-secondary:hover {
  border-color: rgba(30, 41, 59, 0.4);
  background: rgba(30, 41, 59, 0.05);
  transform: translateY(-1px);
}

.btn-secondary:active {
  transform: translateY(0);
  background: rgba(30, 41, 59, 0.08);
}

html.dark .btn-secondary:hover,
.dark .btn-secondary:hover {
  border-color: rgba(255, 255, 255, 0.35);
  background: rgba(255, 255, 255, 0.12);
}

html.dark .btn-secondary:active,
.dark .btn-secondary:active {
  background: rgba(255, 255, 255, 0.15);
}

.input-field {
  width: 100%;
  padding: 0.875rem 1rem;
  border-radius: var(--radius);
  border: 1px solid rgba(0, 0, 0, 0.15);
  background: rgba(255, 255, 255, 0.95);
  color: #0f172a;
  font-weight: 500;
  font-size: 0.9375rem;
  line-height: 1.5;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease;
}

html.dark .input-field,
.dark .input-field {
  border: 1px solid rgba(255, 255, 255, 0.15);
  background: rgba(30, 41, 59, 0.95);
  color: #f1f5f9;
}

.input-field:focus {
  outline: none;
  border-color: rgba(74, 144, 226, 0.6);
  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.12);
  background: #ffffff;
  transform: translateY(-1px);
}

html.dark .input-field:focus,
.dark .input-field:focus {
  background: rgba(51, 65, 85, 0.95);
  border-color: rgba(96, 165, 250, 0.6);
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.18);
  transform: translateY(-1px);
}

.input-field::placeholder {
  color: rgba(100, 116, 139, 0.7);
}

html.dark .input-field::placeholder,
.dark .input-field::placeholder {
  color: rgba(148, 163, 184, 0.6);
}

::selection {
  background: rgba(56, 189, 248, 0.25);
}

::-webkit-scrollbar {
  width: 0.45rem;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 999px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Settings Sidebar */

/* App Navbar Styling */
.app-navbar {
  width: 100%;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  background-color: #ffffff;
  transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  overflow: visible;
}

html.dark .app-navbar {
  border-bottom: 1px solid #0f172a !important; /* Force match background */
  box-shadow: none !important;
  background-color: #0f172a !important;
}

/* Settings Sidebar */
.settings-sidebar {
  background-color: #ffffff;
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
}

html.dark .settings-sidebar {
  background-color: #0f172a;
}

.settings-sidebar-content {
  background-color: #ffffff;
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

html.dark .settings-sidebar-content {
  background-color: #0f172a;
}

.settings-title {
  color: #0f172a;
}

html.dark .settings-title {
  color: #ffffff;
}

.settings-toggle-card {
  background-color: #f8fafc;
  border-color: #e2e8f0;
}

html.dark .settings-toggle-card {
  background-color: #1e293b;
  border-color: #334155;
}

.settings-label {
  color: #0f172a;
}

html.dark .settings-label {
  color: #ffffff;
}

.settings-description {
  color: #334155;
}

html.dark .settings-description {
  color: #cbd5e1;
}

.settings-card {
  background-color: #f8fafc;
  border-color: #e2e8f0;
}

html.dark .settings-card {
  background-color: #1e293b !important;
  border-color: #334155 !important;
}

/* Ensure settings button is always visible */
nav button[aria-label="Settings"] {
  flex-shrink: 0 !important;
  min-width: fit-content;
}

/* Ensure nav items highlight doesn't overflow container */
nav [class*="bg-black/5"] {
  overflow: hidden;
  position: relative;
}

nav [class*="bg-black/5"] [class*="brand-gradient"] {
  border-radius: inherit;
  overflow: hidden;
}

/* Ensure nav items container can shrink and scroll */
.nav-items-container {
  min-width: 0;
  flex: 1 1 auto;
  max-width: 100%;
}

/* On mobile, make nav items scrollable */
@media (max-width: 640px) {
  .nav-items-container {
    flex: 1 1 0;
    min-width: 0;
  }
}

/* Prevent horizontal overflow - Enhanced */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
  width: 100%;
}

* {
  max-width: 100%;
  box-sizing: border-box;
}

/* Ensure all containers respect max-width */
main, section, article, aside, nav {
  max-width: 100%;
  overflow-x: hidden;
}

/* Navigation highlight - sky blue color */
.nav-highlight {
  background-color: rgb(135, 206, 235) !important; /* sky blue */
  border: 1px solid rgba(56, 189, 248, 0.6) !important; /* sky-400 - blue border */
}

html.dark .nav-highlight,
.dark .nav-highlight {
  background-color: rgba(135, 206, 235, 0.4) !important; /* sky blue with opacity */
  border: 1px solid rgba(56, 189, 248, 0.6) !important; /* sky-400 - blue border */
}

/* Custom scrollbar for dropdowns */
.dropdown-scroll {
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.6) transparent;
}

.dropdown-scroll::-webkit-scrollbar {
  width: 4px;
}

.dropdown-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.dropdown-scroll::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.6);
  border-radius: 999px;
  border: none;
}

.dropdown-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.8);
}

html.dark .dropdown-scroll {
  scrollbar-color: rgba(100, 116, 139, 0.6) transparent;
}

html.dark .dropdown-scroll::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.6);
}

html.dark .dropdown-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.8);
}

/* Dark mode dropdown overrides */
html.dark .lessons-dropdown,
.dark .lessons-dropdown {
  background-color: #0f172a;
  border-color: #334155;
  color: #f8fafc;
}

html.dark .lessons-dropdown-item,
.dark .lessons-dropdown-item {
  color: #f8fafc;
}

html.dark .lessons-dropdown-item:hover,
.dark .lessons-dropdown-item:hover {
  background-color: #1e293b;
}

/* Dark mode dropdown trigger buttons */
html.dark .lessons-dropdown-trigger,
.dark .lessons-dropdown-trigger {
  background-color: #0f172a;
  border-color: #334155;
  color: #e2e8f0;
}

html.dark .lessons-dropdown-trigger:hover,
.dark .lessons-dropdown-trigger:hover {
  border-color: #60a5fa;
}

html.dark .lessons-dropdown-trigger svg,
.dark .lessons-dropdown-trigger svg {
  color: #e2e8f0;
}

/* Dark mode premium banner overrides */
html.dark .premium-banner,
.dark .premium-banner {
  background-color: #0f172a !important;
  background-image: none !important;
  border-color: #334155 !important;
}

html.dark .premium-banner p,
html.dark .premium-banner h3,
.dark .premium-banner p,
.dark .premium-banner h3 {
  color: #e2e8f0 !important;
}

/* Mountain-themed background for app pages */
.mountain-background {
  background: 
    /* Base gradient - night sky with deep blues and purples */
    linear-gradient(180deg, #0a0e1a 0%, #1a1f35 30%, #1e2a3f 50%, #0f1419 70%, #0a0e1a 100%);
  z-index: -10;
}

html:not(.dark) .mountain-background {
  background: 
    /* Base gradient - light sky with soft blues */
    linear-gradient(180deg, #e8f0f8 0%, #d4e4f0 30%, #c8dae8 50%, #b8d0e0 70%, #a8c4d8 100%);
}

.mountain-background::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 1;
  background:
    /* Foreground mountains - layer 1 (closest) - blurred dark blue/grey */
    linear-gradient(180deg,
      transparent 0%,
      transparent 55%,
      rgba(8, 18, 28, 0.8) 60%,
      rgba(5, 15, 25, 0.9) 65%,
      rgba(8, 18, 28, 0.8) 68%,
      rgba(10, 20, 30, 0.75) 72%,
      rgba(8, 18, 28, 0.7) 76%,
      rgba(6, 16, 26, 0.65) 80%,
      rgba(5, 14, 24, 0.6) 85%,
      transparent 90%,
      transparent 100%
    ),
    /* Middle mountains - layer 2 - blurred medium blue/grey */
    linear-gradient(180deg,
      transparent 0%,
      transparent 50%,
      rgba(12, 25, 38, 0.7) 55%,
      rgba(10, 22, 35, 0.8) 60%,
      rgba(12, 25, 38, 0.75) 65%,
      rgba(14, 27, 40, 0.7) 70%,
      rgba(12, 25, 38, 0.65) 75%,
      rgba(10, 22, 35, 0.6) 80%,
      transparent 85%,
      transparent 100%
    ),
    /* Distant mountains - layer 3 (furthest) - blurred lighter blue/grey */
    linear-gradient(180deg,
      transparent 0%,
      transparent 45%,
      rgba(18, 32, 48, 0.6) 50%,
      rgba(15, 28, 42, 0.65) 55%,
      rgba(18, 32, 48, 0.6) 60%,
      rgba(20, 35, 50, 0.55) 65%,
      transparent 70%,
      transparent 100%
    );
  background-size: 120% 100%, 100% 100%, 110% 100%;
  background-position: right bottom, center bottom, left bottom;
  background-repeat: no-repeat;
  filter: blur(25px);
  -webkit-filter: blur(25px);
  transform: scale(1.05);
}

html:not(.dark) .mountain-background::before {
  background:
    /* Foreground mountains - layer 1 (closest) - blurred light blue/grey */
    linear-gradient(180deg,
      transparent 0%,
      transparent 55%,
      rgba(120, 140, 160, 0.7) 60%,
      rgba(110, 130, 150, 0.8) 65%,
      rgba(120, 140, 160, 0.7) 68%,
      rgba(130, 150, 170, 0.65) 72%,
      rgba(120, 140, 160, 0.6) 76%,
      rgba(115, 135, 155, 0.55) 80%,
      rgba(110, 130, 150, 0.5) 85%,
      transparent 90%,
      transparent 100%
    ),
    /* Middle mountains - layer 2 - blurred medium light blue/grey */
    linear-gradient(180deg,
      transparent 0%,
      transparent 50%,
      rgba(130, 150, 170, 0.6) 55%,
      rgba(120, 140, 160, 0.7) 60%,
      rgba(130, 150, 170, 0.65) 65%,
      rgba(140, 160, 180, 0.6) 70%,
      rgba(130, 150, 170, 0.55) 75%,
      rgba(125, 145, 165, 0.5) 80%,
      transparent 85%,
      transparent 100%
    ),
    /* Distant mountains - layer 3 (furthest) - blurred lighter blue/grey */
    linear-gradient(180deg,
      transparent 0%,
      transparent 45%,
      rgba(140, 160, 180, 0.5) 50%,
      rgba(130, 150, 170, 0.55) 55%,
      rgba(140, 160, 180, 0.5) 60%,
      rgba(150, 170, 190, 0.45) 65%,
      transparent 70%,
      transparent 100%
    );
  filter: blur(25px);
  -webkit-filter: blur(25px);
  transform: scale(1.05);
}

.mountain-background::after {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 0;
  background:
    /* Soft color accents - purples and greens */
    radial-gradient(ellipse at 20% 30%, rgba(100, 120, 180, 0.25) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 50%, rgba(80, 140, 120, 0.2) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 70%, rgba(120, 100, 160, 0.15) 0%, transparent 60%);
  opacity: 0.8;
}

html:not(.dark) .mountain-background::after {
  background:
    /* Soft color accents - light mode */
    radial-gradient(ellipse at 20% 30%, rgba(180, 200, 240, 0.2) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 50%, rgba(160, 220, 200, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 70%, rgba(200, 180, 230, 0.12) 0%, transparent 60%);
  opacity: 0.4;
}

